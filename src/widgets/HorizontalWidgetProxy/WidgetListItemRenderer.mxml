<?xml version="1.0" encoding="utf-8"?>
<s:ItemRenderer xmlns:fx="http://ns.adobe.com/mxml/2009"
				xmlns:s="library://ns.adobe.com/flex/spark"
				xmlns:mx="library://ns.adobe.com/flex/mx"
				xmlns:HorizontalWidgetProxy="widgets.HorizontalWidgetProxy.*"
				autoDrawBackground="true"
				buttonMode="true"
				width="100%"
				click="itemrenderer_clickHandler(event)"
				dataChange="itemrenderer_dataChangeHandler(event)"
				minHeight="30"
				useHandCursor="true">
	<fx:Script>
		<![CDATA[
			import flashx.textLayout.formats.TextAlign;
			
			import mx.events.EffectEvent;
			import mx.events.FlexEvent;
			
			private const WIDGET_ITEM_CLICK:String = "widgetListItemClick";
			
			[Bindable]
			private var widgetItem:WidgetItem;
			
			private function itemrenderer_dataChangeHandler(event:FlexEvent):void
			{
				widgetItem = data as WidgetItem;
				widgetLabel.text = widgetItem.name;
			}
			
			private function itemrenderer_clickHandler(event:MouseEvent):void
			{
				checkChange();
				dispatchEvent(new Event(WIDGET_ITEM_CLICK, true)); // bubbles
			}
			
			private function checkChange():void
			{
				if(widgetItem.checked){
					widgetItem.checked = false;
					this.currentState="normal";
				}else{
					widgetItem.checked = true;
					this.currentState="selected";
				}
			}
		]]>
	</fx:Script>
	
	<s:states>
		<s:State name="normal"/>
		<s:State name="hovered"/>
		<s:State name="selected"/>
	</s:states>
	
	<s:Rect left="0" right="0" top="0" bottom="0">
		<s:fill>
			<s:SolidColor alpha="0"
						  alpha.hovered="0.65"
						  color.hovered="#e1f0fe"/>
		</s:fill>
	</s:Rect>
	<s:VGroup>
		<s:HGroup height="30" width="100%"
				  buttonMode="true"
				  paddingLeft="10"
				  useHandCursor="true"
				  verticalAlign="middle">
			<s:Group width="25" height="30">
				<mx:Image id="icon" source="{data.iconOff}" 
						  visible.normal="true" 
						  visible.selected="false" 
						  visible.hovered="false"
						  width="100%" height="100%"/>
				<mx:Image id="iconover" source="{data.iconOver}"
						  visible.normal="false" 
						  visible.selected="false"
						  visible.hovered="true"
						  width="100%" height="100%"/>
				<mx:Image id="iconon" source="{data.iconOn}"
						  visible.normal="false" 
						  visible.selected="true" 
						  visible.hovered="false"
						  width="100%" height="100%"/>
			</s:Group>
			<s:Label color="#072d5d" fontWeight="bold" text=">"
					 fontFamily="微软雅黑"
					 fontSize="10"/>
			<s:Label id="widgetLabel"
					 width="100%"
					 color="#072d5d"
					 fontFamily="微软雅黑"
					 fontSize="12"
					 maxDisplayedLines="3"
					 showTruncationTip="true"/>
		</s:HGroup>
	</s:VGroup>
</s:ItemRenderer>